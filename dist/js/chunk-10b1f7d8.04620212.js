(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-10b1f7d8"],{"06a2":function(t,e,i){"use strict";var n=i("fc81")(!0);i("492d")(String,"String",(function(t){this._t=String(t),this._i=0}),(function(){var t,e=this._t,i=this._i;return i>=e.length?{value:void 0,done:!0}:(t=n(e,i),this._i+=t.length,{value:t,done:!1})}))},"2fd4":function(t,e,i){var n=i("fb68"),o=i("75c4"),s=i("cb3d")("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[s])?!!e:"RegExp"==o(t))}},5158:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"ebook-reader"},[i("div",{attrs:{id:"read"}}),i("div",{staticClass:"ebook-reader-mask",on:{click:t.onMaskClick,touchmove:t.move,touchend:t.moveEnd,mousedown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.onMouseEnter(e)},mousemove:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.onMouseMove(e)},mouseup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"left",37,e.key,["Left","ArrowLeft"])||"button"in e&&0!==e.button?null:t.onMouseEnd(e)}}})])},o=[],s=i("ab58"),a=s["a"],r=(i("be07"),i("4023")),u=Object(r["a"])(a,n,o,!1,null,"f4fbae9e",null);e["default"]=u.exports},"5e66":function(t,e,i){},"9a33":function(t,e,i){"use strict";var n=i("2fd4"),o=i("69b3"),s=i("f63e"),a=i("e754"),r=i("eafa"),u=i("7108"),h=i("8714"),c=i("238a"),f=Math.min,l=[].push,d="split",v="length",m="lastIndex",p=4294967295,g=!c((function(){RegExp(p,"y")}));i("0aed")("split",2,(function(t,e,i,c){var b;return b="c"=="abbc"[d](/(b)*/)[1]||4!="test"[d](/(?:)/,-1)[v]||2!="ab"[d](/(?:ab)*/)[v]||4!="."[d](/(.?)(.?)/)[v]||"."[d](/()()/)[v]>1||""[d](/.?/)[v]?function(t,e){var o=String(this);if(void 0===t&&0===e)return[];if(!n(t))return i.call(o,t,e);var s,a,r,u=[],c=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),f=0,d=void 0===e?p:e>>>0,g=new RegExp(t.source,c+"g");while(s=h.call(g,o)){if(a=g[m],a>f&&(u.push(o.slice(f,s.index)),s[v]>1&&s.index<o[v]&&l.apply(u,s.slice(1)),r=s[0][v],f=a,u[v]>=d))break;g[m]===s.index&&g[m]++}return f===o[v]?!r&&g.test("")||u.push(""):u.push(o.slice(f)),u[v]>d?u.slice(0,d):u}:"0"[d](void 0,0)[v]?function(t,e){return void 0===t&&0===e?[]:i.call(this,t,e)}:i,[function(i,n){var o=t(this),s=void 0==i?void 0:i[e];return void 0!==s?s.call(i,o,n):b.call(String(o),i,n)},function(t,e){var n=c(b,t,this,e,b!==i);if(n.done)return n.value;var h=o(t),l=String(this),d=s(h,RegExp),v=h.unicode,m=(h.ignoreCase?"i":"")+(h.multiline?"m":"")+(h.unicode?"u":"")+(g?"y":"g"),k=new d(g?h:"^(?:"+h.source+")",m),S=void 0===e?p:e>>>0;if(0===S)return[];if(0===l.length)return null===u(k,l)?[l]:[];var y=0,O=0,x=[];while(O<l.length){k.lastIndex=g?O:0;var w,E=u(k,g?l:l.slice(O));if(null===E||(w=f(r(k.lastIndex+(g?0:O)),l.length))===y)O=a(l,O,v);else{if(x.push(l.slice(y,O)),x.length===S)return x;for(var M=1;M<=E.length-1;M++)if(x.push(E[M]),x.length===S)return x;O=y=w}}return x.push(l.slice(y)),x}]}))},"9e76":function(t,e,i){"use strict";var n=i("69b3"),o=i("eafa"),s=i("e754"),a=i("7108");i("0aed")("match",1,(function(t,e,i,r){return[function(i){var n=t(this),o=void 0==i?void 0:i[e];return void 0!==o?o.call(i,n):new RegExp(i)[e](String(n))},function(t){var e=r(i,t,this);if(e.done)return e.value;var u=n(t),h=String(this);if(!u.global)return a(u,h);var c=u.unicode;u.lastIndex=0;var f,l=[],d=0;while(null!==(f=a(u,h))){var v=String(f[0]);l[d]=v,""===v&&(u.lastIndex=s(h,o(u.lastIndex),c)),d++}return 0===d?null:l}]}))},ab58:function(t,e,i){"use strict";(function(t){i("9a33"),i("9e76"),i("06a2"),i("6d57"),i("cc57");var n=i("ac0d"),o=i("4868"),s=i("5657"),a=i("5de6"),r=i("101f");t.ePub=o["a"],e["a"]={mixins:[n["a"]],methods:{prevPage:function(){var t=this;this.rendition&&(this.rendition.prev().then((function(){t.refreshLocation()})),this.hideTitleAndMenu())},nextPage:function(){var t=this;this.rendition&&(this.rendition.next().then((function(){t.refreshLocation()})),this.hideTitleAndMenu())},toggleTitleAndMenu:function(){this.menuVisible&&(this.setSettingVisible(-1),this.setFontFamilyVisible(!1)),this.setMenuVisible(!this.menuVisible)},initFontSize:function(){var t=Object(s["e"])(this.fileName);t?(this.rendition.themes.font(t),this.setDefaultFontSize(t)):Object(s["o"])(this.fileName,this.defaultFontSize)},initFontFamily:function(){var t=Object(s["d"])(this.fileName);t?(this.rendition.themes.font(t),this.setDefaultFontFamily(t)):Object(s["n"])(this.fileName,this.defaultFontFamily)},initTheme:function(){var t=this,e=Object(s["j"])(this.fileName);e||(e=this.themeList[0].name,Object(s["s"])(this.fileName,e)),this.setDefaultTheme(e),this.themeList.forEach((function(e){t.rendition.themes.register(e.name,e.style)})),this.rendition.themes.select(e)},initRendition:function(){var t=this;this.rendition=this.book.renderTo("read",{width:innerWidth,height:innerHeight});var e=Object(s["h"])(this.fileName);this.display(e,(function(){t.initTheme(),t.initFontSize(),t.initFontFamily(),t.initGlobalStyle()})),this.rendition.hooks.content.register((function(t){Promise.all([t.addStylesheet("".concat("https://47.99.166.157/book/res","/fonts/daysOne.css")),t.addStylesheet("".concat("https://47.99.166.157/book/res","/fonts/cabin.css")),t.addStylesheet("".concat("https://47.99.166.157/book/res","/fonts/montserrat.css")),t.addStylesheet("".concat("https://47.99.166.157/book/res","/fonts/tangerine.css"))]).then((function(){}))}))},initGesture:function(){var t=this;this.rendition.on("touchstart",(function(e){t.touchStartX=e.changedTouches[0].clientX,t.touchStartTime=e.timeStamp})),this.rendition.on("touchend",(function(e){var i=e.changedTouches[0].clientX-t.touchStartX,n=e.timeStamp-t.touchStartTime;n<500&&i>40?t.prevPage():n<500&&i<-40?t.nextPage():t.toggleTitleAndMenu(),e.stopPropagation()}))},parseBook:function(){var t=this;this.book.loaded.cover.then((function(e){t.book.archive.createUrl(e).then((function(e){t.setCover(e)})),t.book.loaded.metadata.then((function(e){t.setMetadata(e)})),t.book.loaded.navigation.then((function(e){var i=Object(a["d"])(e.toc);function n(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.parent?n(i.filter((function(e){return e.id===t.parent}))[0],++e):e}i.forEach((function(t){t.level=n(t)})),t.setNavigation(i)}))}))},initEpub:function(t){var e=this;this.book=new o["a"](t),this.setCurrentBook(this.book),this.initRendition(),this.parseBook(),this.book.ready.then((function(){return e.book.locations.generate(window.innerWidth/375*750*(Object(s["e"])(e.fileName)/16)).then((function(t){e.navigation.forEach((function(t){t.pagelist=[]})),t.forEach((function(t){var i=t.match(/\[(.*)\]!/)[1];e.navigation.forEach((function(e){if(e.href){var n=e.href.match(/^(.*)\.html$/);n===i&&e.pagelist.push(t)}}));var n=1;e.navigation.forEach((function(t,e){t.page=0===e?1:n,n+=t.pagelist.length+1}))})),e.setPageList(t),e.setBookAvailable(!0),e.refreshLocation()}))}))},onMaskClick:function(t){if(!this.mouseState||2!==this.mouseState&&3!==this.mouseState){var e=t.offsetX,i=window.innerWidth;e>0&&e<.3*i?this.prevPage():e>0&&e>.7*i?this.nextPage():this.toggleTitleAndMenu()}},move:function(t){var e=0;this.firstOffsetY?(e=t.changedTouches[0].clientY-this.firstOffsetY,this.setOffsetY(e)):this.firstOffsetY=t.changedTouches[0].clientY,t.preventDefault(),t.stopPropagation()},moveEnd:function(t){this.setOffsetY(0),this.firstOffsetY=null},onMouseEnter:function(t){this.mouseState=1,this.mouseStartTime=t.timeStamp,t.preventDefault(),t.stopPropagation()},onMouseMove:function(t){if(1===this.mouseState)this.mouseState=2;else if(2===this.mouseState){var e=0;this.firstOffsetY?(e=t.clientY-this.firstOffsetY,this.setOffsetY(e)):this.firstOffsetY=t.clientY}t.preventDefault(),t.stopPropagation()},onMouseEnd:function(t){2===this.mouseState?(this.setOffsetY(0),this.firstOffsetY=null,this.mouseState=3,t.preventDefault(),t.stopPropagation()):this.mouseState=4;var e=t.timeStamp-this.mouseStartTime;e<100&&(this.mouseState=4),t.preventDefault(),t.stopPropagation()}},mounted:function(){var t=this;console.log("maghol");var e=this.$route.params.fileName.split("|"),i=e[1];Object(r["b"])(i,(function(i,n){!i&&n?t.setFileName(e.join("/")).then((function(){t.initEpub(n)})):t.setFileName(e.join("/")).then((function(){var e="https://47.99.166.157/epub/"+t.fileName+".epub";t.initEpub(e)}))}))}}}).call(this,i("9edd"))},be07:function(t,e,i){"use strict";var n=i("5e66"),o=i.n(n);o.a},cc57:function(t,e,i){var n=i("064e").f,o=Function.prototype,s=/^\s*function ([^ (]*)/,a="name";a in o||i("149f")&&n(o,a,{configurable:!0,get:function(){try{return(""+this).match(s)[1]}catch(t){return""}}})}}]);
//# sourceMappingURL=chunk-10b1f7d8.04620212.js.map