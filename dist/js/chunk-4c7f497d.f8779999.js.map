{"version":3,"sources":["webpack:///./node_modules/_core-js@2.6.11@core-js/modules/es6.string.iterator.js","webpack:///./node_modules/_core-js@2.6.11@core-js/modules/_is-regexp.js","webpack:///./src/components/ebook/EbookReader.vue?e581","webpack:///./src/components/ebook/EbookReader.vue?5e80","webpack:///./src/components/ebook/EbookReader.vue","webpack:///./src/components/ebook/EbookReader.vue?65c5","webpack:///./node_modules/_core-js@2.6.11@core-js/modules/es6.regexp.split.js","webpack:///./node_modules/_core-js@2.6.11@core-js/modules/es6.regexp.match.js","webpack:///src/components/ebook/EbookReader.vue","webpack:///./node_modules/_core-js@2.6.11@core-js/modules/es6.function.name.js"],"names":["$at","String","iterated","this","_t","_i","point","O","index","length","value","undefined","done","isObject","cof","MATCH","module","exports","it","isRegExp","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","on","onMaskClick","move","moveEnd","$event","type","indexOf","_k","keyCode","key","button","onMouseEnter","onMouseMove","onMouseEnd","staticRenderFns","component","anObject","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","fails","$min","Math","min","$push","push","$SPLIT","LENGTH","LAST_INDEX","MAX_UINT32","SUPPORTS_Y","RegExp","defined","SPLIT","$split","maybeCallNative","internalSplit","separator","limit","string","call","match","lastIndex","lastLength","output","flags","ignoreCase","multiline","unicode","sticky","lastLastIndex","splitLimit","separatorCopy","source","slice","apply","test","splitter","regexp","res","rx","S","C","unicodeMatching","lim","p","q","A","e","z","i","regExpExec","$match","fn","global","fullUnicode","result","n","matchStr","console","log","dP","f","FProto","Function","prototype","nameRE","NAME","configurable","get"],"mappings":"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","file":"js/chunk-4c7f497d.f8779999.js","sourcesContent":["'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"ebook-reader\"},[_c('div',{attrs:{\"id\":\"read\"}}),_c('div',{staticClass:\"ebook-reader-mask\",on:{\"click\":_vm.onMaskClick,\"touchmove\":_vm.move,\"touchend\":_vm.moveEnd,\"mousedown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.onMouseEnter($event)},\"mousemove\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.onMouseMove($event)},\"mouseup\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"left\",37,$event.key,[\"Left\",\"ArrowLeft\"])){ return null; }if('button' in $event && $event.button !== 0){ return null; }return _vm.onMouseEnd($event)}}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import mod from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./EbookReader.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./EbookReader.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./EbookReader.vue?vue&type=template&id=07dd1ea3&scoped=true&\"\nimport script from \"./EbookReader.vue?vue&type=script&lang=js&\"\nexport * from \"./EbookReader.vue?vue&type=script&lang=js&\"\nimport style0 from \"./EbookReader.vue?vue&type=style&index=0&id=07dd1ea3&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"07dd1ea3\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./EbookReader.vue?vue&type=style&index=0&id=07dd1ea3&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"; export default mod; export * from \"-!../../../node_modules/_mini-css-extract-plugin@0.8.2@mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/_css-loader@1.0.1@css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/_sass-loader@7.3.1@sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/_cache-loader@2.0.1@cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/_vue-loader@15.9.2@vue-loader/lib/index.js??vue-loader-options!./EbookReader.vue?vue&type=style&index=0&id=07dd1ea3&lang=scss&rel=stylesheet%2Fscss&scoped=true&\"","'use strict';\n\nvar isRegExp = require('./_is-regexp');\nvar anObject = require('./_an-object');\nvar speciesConstructor = require('./_species-constructor');\nvar advanceStringIndex = require('./_advance-string-index');\nvar toLength = require('./_to-length');\nvar callRegExpExec = require('./_regexp-exec-abstract');\nvar regexpExec = require('./_regexp-exec');\nvar fails = require('./_fails');\nvar $min = Math.min;\nvar $push = [].push;\nvar $SPLIT = 'split';\nvar LENGTH = 'length';\nvar LAST_INDEX = 'lastIndex';\nvar MAX_UINT32 = 0xffffffff;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nrequire('./_fix-re-wks')('split', 2, function (defined, SPLIT, $split, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'[$SPLIT](/(b)*/)[1] == 'c' ||\n    'test'[$SPLIT](/(?:)/, -1)[LENGTH] != 4 ||\n    'ab'[$SPLIT](/(?:ab)*/)[LENGTH] != 2 ||\n    '.'[$SPLIT](/(.?)(.?)/)[LENGTH] != 4 ||\n    '.'[$SPLIT](/()()/)[LENGTH] > 1 ||\n    ''[$SPLIT](/.?/)[LENGTH]\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(this);\n      if (separator === undefined && limit === 0) return [];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) return $split.call(string, separator, limit);\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      var splitLimit = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy[LAST_INDEX];\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match[LENGTH] > 1 && match.index < string[LENGTH]) $push.apply(output, match.slice(1));\n          lastLength = match[0][LENGTH];\n          lastLastIndex = lastIndex;\n          if (output[LENGTH] >= splitLimit) break;\n        }\n        if (separatorCopy[LAST_INDEX] === match.index) separatorCopy[LAST_INDEX]++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string[LENGTH]) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output[LENGTH] > splitLimit ? output.slice(0, splitLimit) : output;\n    };\n  // Chakra, V8\n  } else if ('0'[$SPLIT](undefined, 0)[LENGTH]) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : $split.call(this, separator, limit);\n    };\n  } else {\n    internalSplit = $split;\n  }\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = defined(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== $split);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = $min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n});\n","'use strict';\n\nvar anObject = require('./_an-object');\nvar toLength = require('./_to-length');\nvar advanceStringIndex = require('./_advance-string-index');\nvar regExpExec = require('./_regexp-exec-abstract');\n\n// @@match logic\nrequire('./_fix-re-wks')('match', 1, function (defined, MATCH, $match, maybeCallNative) {\n  return [\n    // `String.prototype.match` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.match\n    function match(regexp) {\n      var O = defined(this);\n      var fn = regexp == undefined ? undefined : regexp[MATCH];\n      return fn !== undefined ? fn.call(regexp, O) : new RegExp(regexp)[MATCH](String(O));\n    },\n    // `RegExp.prototype[@@match]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@match\n    function (regexp) {\n      var res = maybeCallNative($match, regexp, this);\n      if (res.done) return res.value;\n      var rx = anObject(regexp);\n      var S = String(this);\n      if (!rx.global) return regExpExec(rx, S);\n      var fullUnicode = rx.unicode;\n      rx.lastIndex = 0;\n      var A = [];\n      var n = 0;\n      var result;\n      while ((result = regExpExec(rx, S)) !== null) {\n        var matchStr = String(result[0]);\n        A[n] = matchStr;\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n        n++;\n      }\n      return n === 0 ? null : A;\n    }\n  ];\n});\n","<template>\n<div class=\"ebook-reader\">\n  <div id=\"read\"></div>\n  <div class=\"ebook-reader-mask\"\n  @click=\"onMaskClick\"\n  @touchmove=\"move\"\n  @touchend=\"moveEnd\"\n  @mousedown.left=\"onMouseEnter\"\n  @mousemove.left=\"onMouseMove\"\n  @mouseup.left=\"onMouseEnd\"></div>\n</div>\n</template>\n\n<script>\n  import { ebookMixin } from '../../utils/mixin'\n  import Epub from 'epubjs'\n  import {\n    getFontFamily,\n    saveFontFamily,\n    getFontSize,\n    saveFontSize,\n    getTheme,\n    saveTheme,\n    getLocation\n    } from '../../utils/localstorage'\n  import { flatten } from '../../utils/book'\n  import { getLocalForage } from '../../utils/localForage'\n  global.ePub = Epub\n  export default {\n    mixins: [ebookMixin],\n    methods: {\n      // 左滑翻页\n      prevPage () {\n        if (this.rendition) {\n          this.rendition.prev().then(() => {\n            this.refreshLocation()\n          })\n          this.hideTitleAndMenu()\n        }\n      },\n      // 右滑翻页\n      nextPage () {\n        if (this.rendition) {\n          this.rendition.next().then(() => {\n            this.refreshLocation()\n          })\n          this.hideTitleAndMenu()\n        }\n      },\n      // 控制菜单显示隐藏\n      toggleTitleAndMenu () {\n        if (this.menuVisible) {\n          this.setSettingVisible(-1)\n          this.setFontFamilyVisible(false)\n        }\n        this.setMenuVisible(!this.menuVisible)\n      },\n      // 设置全局字号大小\n      initFontSize () {\n        let fontSize = getFontSize(this.fileName)\n        if (!fontSize) {\n          saveFontSize(this.fileName, this.defaultFontSize)\n        } else {\n          this.rendition.themes.font(fontSize)\n          this.setDefaultFontSize(fontSize)\n        }\n      },\n      // 设置全局字体风格\n      initFontFamily () {\n        let font = getFontFamily(this.fileName)\n        if (!font) {\n          saveFontFamily(this.fileName, this.defaultFontFamily)\n        } else {\n          this.rendition.themes.font(font)\n          this.setDefaultFontFamily(font)\n        }\n      },\n      // 设置全局背景风格\n      initTheme () {\n        let defaultTheme = getTheme(this.fileName)\n        if (!defaultTheme) {\n          defaultTheme = this.themeList[0].name\n          saveTheme(this.fileName, defaultTheme)\n        }\n        this.setDefaultTheme(defaultTheme)\n        this.themeList.forEach(theme => {\n          this.rendition.themes.register(theme.name, theme.style)\n        })\n        this.rendition.themes.select(defaultTheme)\n      },\n      // 重复代码重构  --> 阅读器渲染初始化过程\n      initRendition () {\n        this.rendition = this.book.renderTo('read', {\n          width: innerWidth,\n          height: innerHeight\n        })\n        const location = getLocation(this.fileName)\n        this.display(location, () => {\n          this.initTheme()\n          this.initFontSize()\n          this.initFontFamily()\n          this.initGlobalStyle()\n        })\n        // note\n        this.rendition.hooks.content.register(contents => {\n          Promise.all([\n            contents.addStylesheet(`${process.env.VUE_APP_FONT_URL}/fonts/daysOne.css`),\n            contents.addStylesheet(`${process.env.VUE_APP_FONT_URL}/fonts/cabin.css`),\n            contents.addStylesheet(`${process.env.VUE_APP_FONT_URL}/fonts/montserrat.css`),\n            contents.addStylesheet(`${process.env.VUE_APP_FONT_URL}/fonts/tangerine.css`)\n          ]).then(() => {})\n        })\n      },\n      // 重复代码重构  --> 手势操作初始化\n      initGesture () {\n        this.rendition.on('touchstart', event => {\n        console.log('gesture')\n          this.touchStartX = event.changedTouches[0].clientX\n          this.touchStartTime = event.timeStamp\n        })\n        this.rendition.on('touchend', event => {\n          const offsetX = event.changedTouches[0].clientX - this.touchStartX\n          const time = event.timeStamp - this.touchStartTime\n          if (time < 500 && offsetX > 40) {\n            console.log('prev')\n            this.prevPage()\n          } else if (time < 500 && offsetX < -40) {\n            this.nextPage()\n          } else {\n            this.toggleTitleAndMenu()\n          }\n          // event.preventDefault()\n          event.stopPropagation()\n        })\n      },\n      // 获取书籍封面 标题 作者信息\n      parseBook () {\n        this.book.loaded.cover.then(cover => {\n          this.book.archive.createUrl(cover).then(url => {\n            this.setCover(url)\n          })\n          this.book.loaded.metadata.then(metadata => {\n            this.setMetadata(metadata)\n          })\n          this.book.loaded.navigation.then(nav => {\n            const navItem = flatten(nav.toc)\n            function find(item, level = 0) {\n              return !item.parent ? level : find(navItem.filter(parentItem => parentItem.id === item.parent)[0], ++level)\n            }\n            navItem.forEach(item => {\n              item.level = find(item)\n            })\n            this.setNavigation(navItem)\n          })\n        })\n      },\n      // 阅读器解析\n      initEpub (url) {\n        this.book = new Epub(url)\n        this.setCurrentBook(this.book)\n        this.initRendition()\n        this.initGesture()\n        this.parseBook()\n        this.book.ready.then(() => {\n          return this.book.locations.generate(750 * (window.innerWidth / 375) * (getFontSize(this.fileName) / 16))\n          .then((locations) => {\n            this.navigation.forEach(nav => {\n              nav.pagelist = []\n            })\n            locations.forEach(item => {\n              const loc = item.match(/\\[(.*)\\]!/)[1]\n              this.navigation.forEach(nav => {\n                if (nav.href) {\n                  const href = nav.href.match(/^(.*)\\.html$/)\n                  if (href === loc) {\n                    nav.pagelist.push(item)\n                  }\n                }\n              })\n              let currentPage = 1\n              this.navigation.forEach((nav, index) => {\n                if (index === 0) {\n                  nav.page = 1\n                } else {\n                  nav.page = currentPage\n                }\n                currentPage += nav.pagelist.length + 1\n              })\n            })\n            this.setPageList(locations)\n            this.setBookAvailable(true)\n            this.refreshLocation()\n          })\n        })\n      },\n      // 书签蒙板点击\n      onMaskClick (e) {\n        if (this.mouseState && (this.mouseState === 2 || this.mouseState === 3)) {\n          return\n        }\n        const offsetX = e.offsetX\n        const width = window.innerWidth\n        if (offsetX > 0 && offsetX < width * 0.3) {\n          this.prevPage()\n        } else if (offsetX > 0 && offsetX > width * 0.7) {\n          this.nextPage()\n        } else {\n          this.toggleTitleAndMenu()\n        }\n      },\n      // 手势点击回调\n      move (e) {\n        let offsetY = 0\n        if (this.firstOffsetY) {\n          offsetY = e.changedTouches[0].clientY - this.firstOffsetY\n          this.setOffsetY(offsetY)\n        } else {\n          this.firstOffsetY = e.changedTouches[0].clientY\n        }\n        e.preventDefault()\n        e.stopPropagation()\n      },\n      // 手势松开回调\n      moveEnd (e) {\n        this.setOffsetY(0)\n        this.firstOffsetY = null\n      },\n      // 鼠标事件流程\n      // 1--  鼠标进入\n      // 2--  鼠标进入后的移动\n      // 3--  鼠标从移动状态松手\n      // 4--  鼠标还原\n      // 鼠标左键点击\n      onMouseEnter (e) {\n        this.mouseState = 1\n        this.mouseStartTime = e.timeStamp\n        e.preventDefault()\n        e.stopPropagation()\n      },\n      // 鼠标左键下拉\n      onMouseMove (e) {\n        if (this.mouseState === 1) {\n          this.mouseState = 2\n        } else if (this.mouseState === 2) {\n          let offsetY = 0\n          if (this.firstOffsetY) {\n            offsetY = e.clientY - this.firstOffsetY\n            this.setOffsetY(offsetY)\n          } else {\n            this.firstOffsetY = e.clientY\n          }\n        }\n        e.preventDefault()\n        e.stopPropagation()\n      },\n      // 鼠标左键下拉松开\n      onMouseEnd (e) {\n        if (this.mouseState === 2) {\n          this.setOffsetY(0)\n          this.firstOffsetY = null\n          this.mouseState = 3\n          e.preventDefault()\n          e.stopPropagation()\n        } else {\n          this.mouseState = 4\n        }\n        const time = e.timeStamp - this.mouseStartTime\n        if (time < 100) {\n          this.mouseState = 4\n        }\n        e.preventDefault()\n        e.stopPropagation()\n      }\n    },\n    mounted () {\n      const books = this.$route.params.fileName.split('|')\n      const fileName = books[1]\n      getLocalForage(fileName, (err, blob) => {\n        if (!err && blob) {\n          this.setFileName(books.join('/')).then(() => {\n            this.initEpub(blob)\n          })\n        } else {\n          this.setFileName(books.join('/')).then(() => {\n            const url = process.env.VUE_APP_RES_URL + '/epub/' + this.fileName + '.epub'\n            this.initEpub(url)\n          })\n        }\n      })\n    }\n  }\n</script>\n\n<style lang=\"scss\" rel=\"stylesheet/scss\" scoped>\n  @import \"../../assets/styles/global\";\n  .ebook-reader {\n    width: 100%;\n    height: 100%;\n    overflow: hidden;\n    .ebook-reader-mask {\n      position: absolute;\n      top: 0;\n      left: 0;\n      z-index: 150;\n      width: 100%;\n      height: 100%;\n      background: transparent;\n    }\n  }\n</style>\n","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n"],"sourceRoot":""}